#+title: basic

* <cons>

  #+begin_src jojo
  (+data <null>)
  (+data <cons> .cdr .car)

  (+var x
    null
    1 cons
    2 cons)

  (run x .cdr .cdr tag '<null> eq?)

  (run x .cdr .cdr null?)

  (+jojo test1
    :x!
    (case :x
      null [1]
      cons [2]))

  (run x test1)

  (+jojo test2
    :x!
    (case :x
      null 1
      cons 2))

  (run null test2)
  #+end_src

* [test] <closure>

  #+begin_src jojo
  (+jojo t0 1 :a! 2 :b! (jojo :a :b add))
  (+var x0 t0)
  (run x0)

  (+jojo t1 1 :a! 2 :b! (jojo :a (jojo :b)))
  (+var x1 t1)
  (run x1)
  (+var x2 1)
  (run x2! x2)
  #+end_src

* [test] *control*

  #+begin_src jojo
  (+jojo t2
    (if 1 eq? then 111 end)
    222)

  (run 1 t2 int-write)
  (run 2 t2 int-write)

  (+jojo l0
    :x!
    (if :x 0 eq? then end)
    (el :x int-write " " string-write :x dec (loop)))

  (run 1000 l0)

  (+jojo l1
    :x!
    (if :x 0 eq? then end)
    (el :x int-write " " string-write :x dec (recur)))

  (run 1000 l1)
  #+end_src
