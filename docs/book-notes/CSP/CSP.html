<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-10-19 Thu 16:52 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Communicating Sequential Processes</title>
<meta name="generator" content="Org-mode" />
<meta name="author" content="xieyuheng" />
<link rel="stylesheet" href="../../css/org-page.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Communicating Sequential Processes</h1>
<div id="table-of-contents">
<h2>overview</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orga56d414">1 Processes</a>
<ul>
<li><a href="#org42e2c8c">1.1  Introduction</a>
<ul>
<li><a href="#orgcdbee75">1.1.1 prefix</a></li>
<li><a href="#org63be722">1.1.2 recursion</a></li>
<li><a href="#orgbf4ab40">1.1.3 choice</a></li>
<li><a href="#org76c92d9">(choice) &#x2013; general choice</a></li>
<li><a href="#org98d81f7">1.1.4 mutual recursion</a></li>
</ul>
</li>
<li><a href="#org398ec72">1.2  Pictures</a></li>
<li><a href="#org1750bed">1.3  Laws</a></li>
<li><a href="#org5dd2f28">1.4  Implementation of processes</a>
<ul>
<li><a href="#orgeb41d54">type</a></li>
<li><a href="#orgf116df5">STOP</a></li>
<li><a href="#org73f8af3">prefix</a></li>
<li><a href="#org5223ded">dict-choice</a></li>
<li><a href="#orgee1595e">menu</a></li>
<li><a href="#org3606bee">interact</a></li>
<li><a href="#org55af491">(-)</a></li>
<li><a href="#org5bf95bd">(|)</a></li>
<li><a href="#org8e64636"><span class="todo _gt__lt_">&gt;&lt;</span> (proc) &#x2013; marking language</a></li>
<li><a href="#org113cb07"><span class="todo _gt__lt_">&gt;&lt;</span> (choice) &#x2013; general choice</a></li>
<li><a href="#org9c9d502"><span class="done _test_">[test]</span> </a></li>
</ul>
</li>
<li><a href="#org994a146">1.5  Traces</a></li>
<li><a href="#orgdcc834f">1.6  Operations on traces</a>
<ul>
<li><a href="#org83b7cae">1.6.1 Catenation</a></li>
<li><a href="#org5fbb17">1.6.2 Restriction</a></li>
<li><a href="#orgae4e0b9">1.6.3 Head and tail</a></li>
<li><a href="#orga3bb159">1.6.4 Star</a></li>
<li><a href="#org2ad7f47">1.6.5 Ordering</a></li>
<li><a href="#orge8fa4f6">1.6.6 Length</a></li>
</ul>
</li>
<li><a href="#org26c4f52">1.7  Implementation of traces</a></li>
<li><a href="#org79f5e19">1.8  Traces of a process</a>
<ul>
<li><a href="#orgebedd85">1.8.1 Laws</a></li>
<li><a href="#orgd5598b">1.8.2 Implementation</a></li>
<li><a href="#orge1d56a8">1.8.3 After</a></li>
</ul>
</li>
<li><a href="#org44f915c">1.9  More operations on traces</a>
<ul>
<li><a href="#orgc58db04">1.9.1 Change of symbol</a></li>
<li><a href="#orgc20d9d7">1.9.2 Catenation</a></li>
<li><a href="#orgb801f09">1.9.3 Interleaving</a></li>
<li><a href="#org9fc7788">1.9.4 Subscription</a></li>
<li><a href="#org51b4b34">1.9.5 Reversal</a></li>
<li><a href="#orgc2479ae">1.9.6 Selection</a></li>
<li><a href="#org7b9afaa">1.9.7 Composition</a></li>
</ul>
</li>
<li><a href="#org340c42">1.10 Specifications</a>
<ul>
<li><a href="#org36522e">1.10.1 Satisfaction</a></li>
<li><a href="#org7093f73">1.10.2 Proofs</a></li>
</ul>
</li>
<li><a href="#orgb732b04"><span class="todo _note_">[note]</span> predicate vs type-constructor</a>
<ul>
<li><a href="#org6e8f2d0">predicate</a></li>
<li><a href="#org3262112">type-constructor</a></li>
<li><a href="#org3b1566b">difference</a></li>
<li><a href="#orge1b96ae">similarity</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org371bf38"><span class="todo _note_">[note]</span> difference between process calculi and automata</a></li>
<li><a href="#org56f2220"><span class="todo _note_">[note]</span> about implementation</a></li>
<li><a href="#org68e94f8">2 Concurrency</a>
<ul>
<li><a href="#org3cac281">2.1  Introduction</a></li>
<li><a href="#org1ebc394">2.2  Intersection</a>
<ul>
<li><a href="#org67d286d">example</a></li>
<li><a href="#orgfe51c0">implementation</a></li>
</ul>
</li>
<li><a href="#orgb125c9e">2.3  Concurrency</a></li>
<li><a href="#org1ff77e">2.4  Pictures</a></li>
<li><a href="#org5776e40">2.5  Example: The Dining Philosophers</a></li>
<li><a href="#org417354d">2.6  Change of symbol</a></li>
<li><a href="#orgcc59113">2.7  Specifications</a></li>
<li><a href="#org492418e">2.8  Mathematical theory of deterministic processes</a></li>
</ul>
</li>
<li><a href="#org4662e77">3 Nondeterminism</a>
<ul>
<li><a href="#orgde8070b">3.1  Introduction</a></li>
<li><a href="#orge039985">3.2  Nondeterministic or</a></li>
<li><a href="#org9df7846">3.3  General choice</a></li>
<li><a href="#org6c470a2">3.4  Refusals</a></li>
<li><a href="#org2f0095c">3.5  Concealment</a></li>
<li><a href="#orgc109ec2">3.6  Interleaving</a></li>
<li><a href="#orgf8efd2b">3.7  Specifications</a></li>
<li><a href="#orgad43261">3.8  Divergence</a></li>
<li><a href="#org7aa652a">3.9  Mathematical theory of non-deterministic processes</a></li>
</ul>
</li>
<li><a href="#org706c2e6">4 Communication</a>
<ul>
<li><a href="#org5a57763"><span class="todo _note_">[note]</span> primitivity prejudice</a></li>
<li><a href="#org8a1198a"><span class="todo _note_">[note]</span> new syntax</a>
<ul>
<li><a href="#orgbeb979f">prefix, recursion and choice</a></li>
</ul>
</li>
<li><a href="#org5308600">4.1  Introduction</a></li>
<li><a href="#org386fa4d">4.2  Input and output</a></li>
<li><a href="#org5825a9a">4.3  Communications</a></li>
<li><a href="#orgc30646b">4.4  Pipes</a></li>
<li><a href="#org301f3b2">4.5  Subordination</a></li>
</ul>
</li>
<li><a href="#org9105ad">5 Sequential Processes</a>
<ul>
<li><a href="#org2946db1">5.1  Introduction</a></li>
<li><a href="#org6890c70">5.2  Laws</a></li>
<li><a href="#org29f5cf">5.3  Mathematical treatment</a></li>
<li><a href="#org3439915">5.4  Interrupts</a></li>
<li><a href="#org6a42248">5.5  Assignment</a></li>
</ul>
</li>
<li><a href="#org7bd73e1">6 Shared Resources</a>
<ul>
<li><a href="#orgf3169a9">6.1  Introduction</a></li>
<li><a href="#org3c447c3">6.2  Sharing by interleaving</a></li>
<li><a href="#orgab90fa1">6.3  Shared storage</a></li>
<li><a href="#orgcb01f4f">6.4  Multiple resources</a></li>
<li><a href="#orgfa292c">6.5  Operating systems</a></li>
<li><a href="#orgd1a943c">6.6  Scheduling</a></li>
</ul>
</li>
<li><a href="#orgba7701c">7 Discussion</a>
<ul>
<li><a href="#orge5b2765">7.1  Introduction</a></li>
<li><a href="#org1b60122">7.2  Shared storage</a></li>
<li><a href="#orgee254ad">7.3  Communication</a></li>
<li><a href="#org9c0de73">7.4  Mathematical models</a></li>
</ul>
</li>
</ul>
</div>
</div>
<ul class="org-ul">
<li><p>by C. A. R. Hoare</p></li></ul>

<div id="outline-container-orga56d414" class="outline-2">
<h2 id="orga56d414">1 Processes</h2>
<div class="outline-text-2" id="text-orga56d414">
</div><div id="outline-container-org42e2c8c" class="outline-3">
<h3 id="org42e2c8c">1.1  Introduction</h3>
<div class="outline-text-3" id="text-org42e2c8c">
<ul class="org-ul">
<li><p>the word 'process' stand for</p><p>the behaviour pattern of an object,</p><p>insofar as it can be described</p><p>in terms of the limited set of events</p><p>selected as its alphabet.</p></li></ul>
</div>

<div id="outline-container-orgcdbee75" class="outline-4">
<h4 id="orgcdbee75">1.1.1 prefix</h4>
<div class="outline-text-4" id="text-orgcdbee75">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  a simple vending machine
  that successfully serves two customers before breaking<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> coin choc coin choc STOP<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span> syntax
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> <span style="color: #66d9ef; font-weight: bold;">Event</span> <span style="color: #ae81ff;">...</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org63be722" class="outline-4">
<h4 id="org63be722">1.1.2 recursion</h4>
<div class="outline-text-4" id="text-org63be722">
<ul class="org-ul">
<li><p>This method of self-referential recursive definition of processes</p><p>will work only if the right-hand side of the equation</p><p>starts with at least one event prefixed</p><p>to all recursive occurrences of the process name.</p></li></ul>

<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CLOCK</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> tick CLOCK<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span> the simple vending machine<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMS</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> coin choc VMS<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span> syntax
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">proc</span> <span style="color: #ae81ff;">...</span><span style="color: #696969;">)</span> <span style="color: #f92672; font-weight: bold;">as</span> a marking language<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMS</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">proc</span> <span style="color: #66d9ef; font-weight: bold;">P</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> coin choc P<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span> gives change for 5p<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CH5A</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> in5p out2p out1p out2p CH5A<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CH5B</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> in5p out1p out1p out1p out2p <span style="color: #66d9ef; font-weight: bold;">CH5B</span><span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf4ab40" class="outline-4">
<h4 id="orgbf4ab40">1.1.3 choice</h4>
<div class="outline-text-4" id="text-orgbf4ab40">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  a machine which offers a choice
  of two combinations of change for 5p<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CH5C</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> in5p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> out1p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out1p out1p out2p <span style="color: #66d9ef; font-weight: bold;">CH5C</span><span style="color: #696969;">)</span>
             out2p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out1p out2p CH5C<span style="color: #696969;">))))</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  a machine that serves either chocolate or toffee
  on each transaction<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMCT</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> coin <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> choc <span style="color: #66d9ef; font-weight: bold;">VMCT</span>
             toffee VMCT<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  a more complicated vending machine<span style="color: #f92672; font-weight: bold;">,</span>
  which offers a choice of coins
  and a choice of goods and change<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  like many complicated machines<span style="color: #f92672; font-weight: bold;">,</span>
  this has a design flaw.
  it is often easier to change the user manual
  than correct the design<span style="color: #f92672; font-weight: bold;">,</span>
  so we write a notice on the machine<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMC</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span> <span style="color: #66d9ef; font-weight: bold;">WARNING</span>
    do not insert three pennies in a row<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> in2p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> large <span style="color: #66d9ef; font-weight: bold;">VMC</span>
             small <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out1p <span style="color: #66d9ef; font-weight: bold;">VMC</span><span style="color: #696969;">))</span>
     in1p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> small <span style="color: #66d9ef; font-weight: bold;">VMC</span>
             in1p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> large <span style="color: #66d9ef; font-weight: bold;">VMC</span>
                     in1p STOP<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  a copying process engages in the following events
  in.0  <span style="color: #66d9ef; font-weight: bold;">--</span> input of zero on its input channel
  in.1  <span style="color: #66d9ef; font-weight: bold;">--</span> input of one on its input channel
  out.0 <span style="color: #66d9ef; font-weight: bold;">--</span> output of zero on its output channel
  out.1 <span style="color: #66d9ef; font-weight: bold;">--</span> output of one on its output channel<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">COPYBIT</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> in.0 <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out.0 <span style="color: #66d9ef; font-weight: bold;">COPYBIT</span><span style="color: #696969;">)</span>
     in.1 <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out.1 COPYBIT<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span> syntax
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> <span style="color: #66d9ef; font-weight: bold;">Event</span> <span style="color: #66d9ef; font-weight: bold;">Process</span>
     <span style="color: #ae81ff;">...</span> ...<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span><span style="color: #696969;">)</span> == <span style="color: #66d9ef; font-weight: bold;">STOP</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org76c92d9" class="outline-4">
<h4 id="org76c92d9">(choice) &#x2013; general choice</h4>
<div class="outline-text-4" id="text-org76c92d9">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span> a more general syntax
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">choice</span> <span style="color: #66d9ef; font-weight: bold;">Event</span> <span style="color: #66d9ef; font-weight: bold;">List</span>
    <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org98d81f7" class="outline-4">
<h4 id="org98d81f7">1.1.4 mutual recursion</h4>
<div class="outline-text-4" id="text-org98d81f7">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CT</span> <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:n</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">cond</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> <span style="color: #ae81ff;">0</span> eq?<span style="color: #797979;">]</span>
        <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> up <span style="color: #797979;">[</span><span style="color: #ae81ff;">1</span> <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span>
           around <span style="color: #797979;">[</span><span style="color: #ae81ff;">0</span> <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span><span style="color: #696969;">)</span>
        <span style="color: #66d9ef; font-weight: bold;">else</span>
        <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> up <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> inc <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span>
           down <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> dec <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span><span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org398ec72" class="outline-3">
<h3 id="org398ec72">1.2  Pictures</h3>
</div>

<div id="outline-container-org1750bed" class="outline-3">
<h3 id="org1750bed">1.3  Laws</h3>
</div>

<div id="outline-container-org5dd2f28" class="outline-3">
<h3 id="org5dd2f28">1.4  Implementation of processes</h3>
<div class="outline-text-3" id="text-org5dd2f28">
</div><div id="outline-container-orgeb41d54" class="outline-4">
<h4 id="orgeb41d54">type</h4>
<div class="outline-text-4" id="text-orgeb41d54">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  <span style="color: #66d9ef; font-weight: bold;">Event</span> == <span style="color: #66d9ef; font-weight: bold;">String</span>
  <span style="color: #66d9ef; font-weight: bold;">Process</span> == <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #66d9ef; font-weight: bold;">Event</span> <span style="color: #66d9ef; font-weight: bold;">--</span> Process<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  thus a process is a closure in jojo
  while the special process <span style="color: #66d9ef; font-weight: bold;">STOP</span> simply returns a 'bleep<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf116df5" class="outline-4">
<h4 id="orgf116df5">STOP</h4>
<div class="outline-text-4" id="text-orgf116df5">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">STOP</span> <span style="color: #B380A8;">{</span>drop 'bleep<span style="color: #B380A8;">}</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org73f8af3" class="outline-4">
<h4 id="org73f8af3">prefix</h4>
<div class="outline-text-4" id="text-org73f8af3">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> prefix <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:event</span> <span style="color: #a6e22e;">:process</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">)</span>
  <span style="color: #B380A8;">{</span><span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:x</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">)</span>
   <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">if</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:x</span> <span style="color: #a6e22e;">:event</span> eq?<span style="color: #797979;">]</span>
       <span style="color: #a6e22e;">:process</span>
       'bleep<span style="color: #696969;">)</span><span style="color: #B380A8;">}</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5223ded" class="outline-4">
<h4 id="org5223ded">dict-choice</h4>
<div class="outline-text-4" id="text-org5223ded">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> dict-choice <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:dict</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">)</span>
  <span style="color: #B380A8;">{</span><span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:event</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">)</span>
   <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">if</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:dict</span> <span style="color: #a6e22e;">:event</span> dict-find<span style="color: #797979;">]</span>
     <span style="color: #797979;">[]</span>
     'bleep<span style="color: #696969;">)</span><span style="color: #B380A8;">}</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgee1595e" class="outline-4">
<h4 id="orgee1595e">menu</h4>
<div class="outline-text-4" id="text-orgee1595e">
<ul class="org-ul">
<li><p>gives a list of all those symbols</p><p>of a which can occur as the first event</p><p>in the life of a process</p></li></ul>

<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> menu <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:event-list</span> <span style="color: #a6e22e;">:process</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Event</span> <span style="color: #66d9ef; font-weight: bold;">List</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">cond</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:event-list</span> null?<span style="color: #797979;">]</span> null

        <span style="color: #797979;">[</span><span style="color: #a6e22e;">:event-list</span> <span style="color: #ae81ff;">.car</span> <span style="color: #a6e22e;">:process</span> apply 'bleep eq?<span style="color: #797979;">]</span>
        <span style="color: #797979;">[</span><span style="color: #a6e22e;">:event-list</span> <span style="color: #ae81ff;">.cdr</span> <span style="color: #a6e22e;">:process</span> menu<span style="color: #797979;">]</span>

        <span style="color: #66d9ef; font-weight: bold;">else</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:event-list</span> <span style="color: #ae81ff;">.car</span>
              <span style="color: #a6e22e;">:event-list</span> <span style="color: #ae81ff;">.cdr</span> <span style="color: #a6e22e;">:process</span> menu
              cons<span style="color: #797979;">]</span><span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3606bee" class="outline-4">
<h4 id="org3606bee">interact</h4>
<div class="outline-text-4" id="text-org3606bee">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">import</span> sys<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> readline sys <span style="color: #ae81ff;">.stdin</span> -1 swap .readline<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> read-event
  readline code-scan <span style="color: #fd971f;">:string-vect!</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">if</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:string-vect</span> vect-length <span style="color: #ae81ff;">0</span> eq?<span style="color: #797979;">]</span>
    read-event
    <span style="color: #797979;">[</span><span style="color: #a6e22e;">:string-vect</span> <span style="color: #ae81ff;">0</span> vect-ref<span style="color: #797979;">]</span><span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> interact <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:event-list</span> <span style="color: #a6e22e;">:process</span> <span style="color: #66d9ef; font-weight: bold;">--</span><span style="color: #696969;">)</span>
  <span style="color: #a6e22e;">:event-list</span> <span style="color: #a6e22e;">:process</span> menu p nl
  read-event <span style="color: #fd971f;">:event!</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">when</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:event</span> '<span style="color: #66d9ef; font-weight: bold;">end</span> eq? not<span style="color: #797979;">]</span>
    <span style="color: #a6e22e;">:event</span> <span style="color: #a6e22e;">:process</span> apply <span style="color: #fd971f;">:next!</span>
    <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">cond</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:next</span> 'bleep eq?<span style="color: #797979;">]</span>
          <span style="color: #797979;">[</span>'bleep p nl <span style="color: #a6e22e;">:event-list</span> <span style="color: #a6e22e;">:process</span> interact<span style="color: #797979;">]</span>
          <span style="color: #66d9ef; font-weight: bold;">else</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:event-list</span> <span style="color: #a6e22e;">:next</span> interact<span style="color: #797979;">]</span><span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org55af491" class="outline-4">
<h4 id="org55af491">(-)</h4>
<div class="outline-text-4" id="text-org55af491">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> - <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:body</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Sexp</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">cond</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:body</span> null?<span style="color: #797979;">]</span>
        <span style="color: #797979;">[</span><span style="color: #e6db74;">"- (-) syntax error"</span> p nl
         <span style="color: #e6db74;">"  body of (-) can not be null"</span> p nl
         <span style="color: #f92672; font-weight: bold;">error</span><span style="color: #797979;">]</span>
        <span style="color: #797979;">[</span><span style="color: #a6e22e;">:body</span><span style="color: #ae81ff;">.cdr</span> null?<span style="color: #797979;">]</span>
        `<span style="color: #B380A8;">{</span><span style="color: #696969;">(</span><span style="color: #ae81ff;">@</span> <span style="color: #a6e22e;">:body</span><span style="color: #ae81ff;">.car</span><span style="color: #696969;">)</span> apply<span style="color: #B380A8;">}</span>
        <span style="color: #66d9ef; font-weight: bold;">else</span>
        `<span style="color: #797979;">[</span><span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">quote</span> <span style="color: #696969;">(</span><span style="color: #ae81ff;">@</span> <span style="color: #a6e22e;">:body</span><span style="color: #ae81ff;">.car</span><span style="color: #696969;">))</span>
          <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> <span style="color: #696969;">(</span><span style="color: #ae81ff;">@</span> <span style="color: #a6e22e;">:body</span><span style="color: #ae81ff;">.cdr</span> list-spread<span style="color: #696969;">))</span>
          prefix<span style="color: #797979;">]</span><span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMS</span>
    <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> coin choc <span style="color: #66d9ef; font-weight: bold;">VMS</span><span style="color: #696969;">))</span>
  ==&gt;
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMS</span>
    'coin 'choc <span style="color: #B380A8;">{</span><span style="color: #66d9ef; font-weight: bold;">VMS</span> apply<span style="color: #B380A8;">}</span>
    prefix prefix<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5bf95bd" class="outline-4">
<h4 id="org5bf95bd">(|)</h4>
<div class="outline-text-4" id="text-org5bf95bd">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> | <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:body</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Sexp</span><span style="color: #696969;">)</span>
  `<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">begin</span>
     <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">dict</span> <span style="color: #696969;">(</span><span style="color: #ae81ff;">@</span> <span style="color: #a6e22e;">:body</span> choice-recur<span style="color: #696969;">))</span>
     dict-choice<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> choice-recur <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:body</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Sexp</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">cond</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:body</span> null?<span style="color: #797979;">]</span> `<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">begin</span><span style="color: #696969;">)</span>
        <span style="color: #66d9ef; font-weight: bold;">else</span> `<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">begin</span>
                <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">quote</span> <span style="color: #696969;">(</span><span style="color: #ae81ff;">@</span> <span style="color: #a6e22e;">:body</span><span style="color: #ae81ff;">.car</span><span style="color: #696969;">))</span>
                <span style="color: #B380A8;">{</span><span style="color: #696969;">(</span><span style="color: #ae81ff;">@</span> <span style="color: #a6e22e;">:body</span><span style="color: #ae81ff;">.cdr.car</span><span style="color: #696969;">)</span> apply<span style="color: #B380A8;">}</span>
                <span style="color: #696969;">(</span><span style="color: #ae81ff;">@</span> <span style="color: #a6e22e;">:body</span><span style="color: #ae81ff;">.cdr.cdr</span> choice-recur<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CT</span> <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:n</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">cond</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> <span style="color: #ae81ff;">0</span> eq?<span style="color: #797979;">]</span>
          <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> up <span style="color: #797979;">[</span><span style="color: #ae81ff;">1</span> <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span>
             around <span style="color: #797979;">[</span><span style="color: #ae81ff;">0</span> <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span><span style="color: #696969;">)</span>
          <span style="color: #66d9ef; font-weight: bold;">else</span>
          <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> up <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> inc <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span>
             down <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> dec <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span><span style="color: #696969;">)))</span>
  ==&gt;
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CT</span> <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:n</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">cond</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> <span style="color: #ae81ff;">0</span> eq?<span style="color: #797979;">]</span>
          <span style="color: #797979;">[</span><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">dict</span>
             'up <span style="color: #B380A8;">{</span><span style="color: #ae81ff;">1</span> <span style="color: #66d9ef; font-weight: bold;">CT</span> apply<span style="color: #B380A8;">}</span>
             'around <span style="color: #B380A8;">{</span><span style="color: #ae81ff;">0</span> <span style="color: #66d9ef; font-weight: bold;">CT</span> apply<span style="color: #B380A8;">}</span><span style="color: #696969;">)</span>
           dict-choice<span style="color: #797979;">]</span>
          <span style="color: #66d9ef; font-weight: bold;">else</span>
          <span style="color: #797979;">[</span><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">dict</span>
             'up <span style="color: #B380A8;">{</span><span style="color: #a6e22e;">:n</span> inc <span style="color: #66d9ef; font-weight: bold;">CT</span> apply<span style="color: #B380A8;">}</span>
             'down <span style="color: #B380A8;">{</span><span style="color: #a6e22e;">:n</span> dec <span style="color: #66d9ef; font-weight: bold;">CT</span> apply<span style="color: #B380A8;">}</span><span style="color: #696969;">)</span>
           dict-choice<span style="color: #797979;">]</span><span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8e64636" class="outline-4">
<h4 id="org8e64636"><span class="todo _gt__lt_">&gt;&lt;</span> (proc) &#x2013; marking language</h4>
</div>

<div id="outline-container-org113cb07" class="outline-4">
<h4 id="org113cb07"><span class="todo _gt__lt_">&gt;&lt;</span> (choice) &#x2013; general choice</h4>
</div>

<div id="outline-container-org9c9d502" class="outline-4">
<h4 id="org9c9d502"><span class="done _test_">[test]</span> </h4>
<div class="outline-text-4" id="text-org9c9d502">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CLOCK</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> tick CLOCK<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMS-alphabet</span>
  '<span style="color: #696969;">(</span>coin choc<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMS</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> coin choc VMS<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CH5A</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> in5p out2p out1p out2p CH5A<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CH5B</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> in5p out1p out1p out1p out2p CH5B<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CH5C-alphabet</span>
  '<span style="color: #696969;">(</span>in5p out1p out2p<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CH5C</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> in5p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> out1p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out1p out1p out2p <span style="color: #66d9ef; font-weight: bold;">CH5C</span><span style="color: #696969;">)</span>
             out2p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out1p out2p CH5C<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMCT-alphabet</span>
  '<span style="color: #696969;">(</span>coin choc toffee<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMCT</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> coin <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> choc <span style="color: #66d9ef; font-weight: bold;">VMCT</span>
             toffee VMCT<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMC-alphabet</span>
  '<span style="color: #696969;">(</span>in1p in2p large small out1p<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMC</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span> <span style="color: #66d9ef; font-weight: bold;">WARNING</span>
    do not insert three pennies in a row<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> in2p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> large <span style="color: #66d9ef; font-weight: bold;">VMC</span>
             small <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out1p <span style="color: #66d9ef; font-weight: bold;">VMC</span><span style="color: #696969;">))</span>
     in1p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> small <span style="color: #66d9ef; font-weight: bold;">VMC</span>
             in1p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> large <span style="color: #66d9ef; font-weight: bold;">VMC</span>
                     in1p STOP<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">COPYBIT-alphabet</span>
  '<span style="color: #696969;">(</span>in.0 out.0 in.1 out.1<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">COPYBIT</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> in.0 <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out.0 <span style="color: #66d9ef; font-weight: bold;">COPYBIT</span><span style="color: #696969;">)</span>
     in.1 <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out.1 COPYBIT<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CT-alphabet</span>
  '<span style="color: #696969;">(</span>up down around<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CT</span> <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:n</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">cond</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> <span style="color: #ae81ff;">0</span> eq?<span style="color: #797979;">]</span>
        <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> up <span style="color: #797979;">[</span><span style="color: #ae81ff;">1</span> <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span>
           around <span style="color: #797979;">[</span><span style="color: #ae81ff;">0</span> <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span><span style="color: #696969;">)</span>
        <span style="color: #66d9ef; font-weight: bold;">else</span>
        <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> up <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> inc <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span>
           down <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> dec CT<span style="color: #797979;">]</span><span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">begin</span> <span style="color: #66d9ef; font-weight: bold;">VMS-alphabet</span> <span style="color: #66d9ef; font-weight: bold;">VMS</span> interact<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">begin</span> <span style="color: #66d9ef; font-weight: bold;">CH5C-alphabet</span> <span style="color: #66d9ef; font-weight: bold;">CH5C</span> interact<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">begin</span> <span style="color: #66d9ef; font-weight: bold;">VMCT-alphabet</span> <span style="color: #66d9ef; font-weight: bold;">VMCT</span> interact<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">begin</span> <span style="color: #66d9ef; font-weight: bold;">VMC-alphabet</span> <span style="color: #66d9ef; font-weight: bold;">VMC</span> interact<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">begin</span> <span style="color: #66d9ef; font-weight: bold;">CT-alphabet</span> <span style="color: #ae81ff;">0</span> <span style="color: #66d9ef; font-weight: bold;">CT</span> interact<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org994a146" class="outline-3">
<h3 id="org994a146">1.5  Traces</h3>
</div>

<div id="outline-container-orgdcc834f" class="outline-3">
<h3 id="orgdcc834f">1.6  Operations on traces</h3>
<div class="outline-text-3" id="text-orgdcc834f">
</div><div id="outline-container-org83b7cae" class="outline-4">
<h4 id="org83b7cae">1.6.1 Catenation</h4>
</div>

<div id="outline-container-org5fbb17" class="outline-4">
<h4 id="org5fbb17">1.6.2 Restriction</h4>
</div>

<div id="outline-container-orgae4e0b9" class="outline-4">
<h4 id="orgae4e0b9">1.6.3 Head and tail</h4>
</div>

<div id="outline-container-orga3bb159" class="outline-4">
<h4 id="orga3bb159">1.6.4 Star</h4>
</div>

<div id="outline-container-org2ad7f47" class="outline-4">
<h4 id="org2ad7f47">1.6.5 Ordering</h4>
</div>

<div id="outline-container-orge8fa4f6" class="outline-4">
<h4 id="orge8fa4f6">1.6.6 Length</h4>
</div>
</div>

<div id="outline-container-org26c4f52" class="outline-3">
<h3 id="org26c4f52">1.7  Implementation of traces</h3>
</div>

<div id="outline-container-org79f5e19" class="outline-3">
<h3 id="org79f5e19">1.8  Traces of a process</h3>
<div class="outline-text-3" id="text-org79f5e19">
<ul class="org-ul">
<li><p>the complete set of all possible traces of a process P</p><p>can be known in advance,</p><p>and we define a function 'traces' to yield that set</p></li></ul>
</div>

<div id="outline-container-orgebedd85" class="outline-4">
<h4 id="orgebedd85">1.8.1 Laws</h4>
</div>

<div id="outline-container-orgd5598b" class="outline-4">
<h4 id="orgd5598b">1.8.2 Implementation</h4>
<div class="outline-text-4" id="text-orgd5598b">
<ul class="org-ul">
<li><p>(: trace-of? (-&gt; Trace Process &#x2013; Bool))</p></li></ul>
</div>
</div>

<div id="outline-container-orge1d56a8" class="outline-4">
<h4 id="orge1d56a8">1.8.3 After</h4>
</div>
</div>

<div id="outline-container-org44f915c" class="outline-3">
<h3 id="org44f915c">1.9  More operations on traces</h3>
<div class="outline-text-3" id="text-org44f915c">
</div><div id="outline-container-orgc58db04" class="outline-4">
<h4 id="orgc58db04">1.9.1 Change of symbol</h4>
</div>

<div id="outline-container-orgc20d9d7" class="outline-4">
<h4 id="orgc20d9d7">1.9.2 Catenation</h4>
</div>

<div id="outline-container-orgb801f09" class="outline-4">
<h4 id="orgb801f09">1.9.3 Interleaving</h4>
</div>

<div id="outline-container-org9fc7788" class="outline-4">
<h4 id="org9fc7788">1.9.4 Subscription</h4>
</div>

<div id="outline-container-org51b4b34" class="outline-4">
<h4 id="org51b4b34">1.9.5 Reversal</h4>
</div>

<div id="outline-container-orgc2479ae" class="outline-4">
<h4 id="orgc2479ae">1.9.6 Selection</h4>
</div>

<div id="outline-container-org7b9afaa" class="outline-4">
<h4 id="org7b9afaa">1.9.7 Composition</h4>
</div>
</div>

<div id="outline-container-org340c42" class="outline-3">
<h3 id="org340c42">1.10 Specifications</h3>
<div class="outline-text-3" id="text-org340c42">
</div><div id="outline-container-org36522e" class="outline-4">
<h4 id="org36522e">1.10.1 Satisfaction</h4>
</div>

<div id="outline-container-org7093f73" class="outline-4">
<h4 id="org7093f73">1.10.2 Proofs</h4>
</div>
</div>

<div id="outline-container-orgb732b04" class="outline-3">
<h3 id="orgb732b04"><span class="todo _note_">[note]</span> predicate vs type-constructor</h3>
<div class="outline-text-3" id="text-orgb732b04">
</div><div id="outline-container-org6e8f2d0" class="outline-4">
<h4 id="org6e8f2d0">predicate</h4>
</div>

<div id="outline-container-org3262112" class="outline-4">
<h4 id="org3262112">type-constructor</h4>
</div>

<div id="outline-container-org3b1566b" class="outline-4">
<h4 id="org3b1566b">difference</h4>
</div>

<div id="outline-container-orge1b96ae" class="outline-4">
<h4 id="orge1b96ae">similarity</h4>
</div>
</div>
</div>

<div id="outline-container-org371bf38" class="outline-2">
<h2 id="org371bf38"><span class="todo _note_">[note]</span> difference between process calculi and automata</h2>
<div class="outline-text-2" id="text-org371bf38">
<ul class="org-ul">
<li><p>process as a special way of encoding states of automata.</p></li></ul>
</div>
</div>

<div id="outline-container-org56f2220" class="outline-2">
<h2 id="org56f2220"><span class="todo _note_">[note]</span> about implementation</h2>
<div class="outline-text-2" id="text-org56f2220">
<ul class="org-ul">
<li><p>a process is a function of type (-&gt; Event &#x2013; Process)</p></li>

<li><p>a process is a function</p><p>that can be stepped</p><p>each step of the process is a state of the process</p><p>process is a automata whose states are encoded by steps</p><p>let's call them 'step-states'</p></li>

<li><p>a process is a function</p><p>that can be composed</p><p>according to the natural of its step-states</p></li></ul>
</div>
</div>

<div id="outline-container-org68e94f8" class="outline-2">
<h2 id="org68e94f8">2 Concurrency</h2>
<div class="outline-text-2" id="text-org68e94f8">
</div><div id="outline-container-org3cac281" class="outline-3">
<h3 id="org3cac281">2.1  Introduction</h3>
<div class="outline-text-3" id="text-org3cac281">
<ul class="org-ul">
<li><p>the environment of a process itself</p><p>may be described as a process.</p></li>

<li><p>This permits investigation of the behaviour</p><p>of a complete system composed from the process</p><p>together with its environment,</p><p>acting and interacting with each other</p><p>as they evolve concurrently.</p></li>

<li><p>composition of processes.</p></li></ul>
</div>
</div>

<div id="outline-container-org1ebc394" class="outline-3">
<h3 id="org1ebc394">2.2  Intersection</h3>
<div class="outline-text-3" id="text-org1ebc394">
</div><div id="outline-container-org67d286d" class="outline-4">
<h4 id="org67d286d">example</h4>
<div class="outline-text-4" id="text-org67d286d">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMCT</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> coin <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> choc <span style="color: #66d9ef; font-weight: bold;">VMCT</span>
             toffee VMCT<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span> greedy customer<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">GRCUST</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> choc <span style="color: #66d9ef; font-weight: bold;">GRCUST</span>
     toffee <span style="color: #66d9ef; font-weight: bold;">GRCUST</span>
     coin <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> choc GRCUST<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">||</span> <span style="color: #66d9ef; font-weight: bold;">VMCT</span> <span style="color: #66d9ef; font-weight: bold;">GRCUST</span><span style="color: #696969;">)</span>
  ==
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">proc</span> <span style="color: #66d9ef; font-weight: bold;">X</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> coin choc X<span style="color: #696969;">)))</span>


<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMC</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span> <span style="color: #66d9ef; font-weight: bold;">WARNING</span>
    do not insert three pennies in a row<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> in2p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> large <span style="color: #66d9ef; font-weight: bold;">VMC</span>
             small <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out1p <span style="color: #66d9ef; font-weight: bold;">VMC</span><span style="color: #696969;">))</span>
     in1p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> small <span style="color: #66d9ef; font-weight: bold;">VMC</span>
             in1p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> large <span style="color: #66d9ef; font-weight: bold;">VMC</span>
                     in1p STOP<span style="color: #696969;">))))</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span> foolish customer<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">FOOLCUST</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> in2p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> large <span style="color: #66d9ef; font-weight: bold;">FOOLCUST</span><span style="color: #696969;">)</span>
     in1p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> large FOOLCUST<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">||</span> <span style="color: #66d9ef; font-weight: bold;">VMC</span> <span style="color: #66d9ef; font-weight: bold;">FOOLCUST</span><span style="color: #696969;">)</span>
  ==
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">proc</span> <span style="color: #66d9ef; font-weight: bold;">X</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> in2p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> large <span style="color: #66d9ef; font-weight: bold;">X</span><span style="color: #696969;">)</span>
             in1p <span style="color: #66d9ef; font-weight: bold;">STOP</span><span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfe51c0" class="outline-4">
<h4 id="orgfe51c0">implementation</h4>
<div class="outline-text-4" id="text-orgfe51c0">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> intersect <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:process1</span> <span style="color: #a6e22e;">:process2</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">)</span>
  <span style="color: #B380A8;">{</span><span style="color: #fd971f;">:z!</span>
   <span style="color: #a6e22e;">:z</span> <span style="color: #a6e22e;">:process1</span> apply <span style="color: #fd971f;">:next1!</span>
   <span style="color: #a6e22e;">:z</span> <span style="color: #a6e22e;">:process2</span> apply <span style="color: #fd971f;">:next2!</span>
   <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">cond</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:next1</span> 'bleep eq?<span style="color: #797979;">]</span> <span style="color: #797979;">[</span>'bleep<span style="color: #797979;">]</span>
         <span style="color: #797979;">[</span><span style="color: #a6e22e;">:next2</span> 'bleep eq?<span style="color: #797979;">]</span> <span style="color: #797979;">[</span>'bleep<span style="color: #797979;">]</span>
         <span style="color: #66d9ef; font-weight: bold;">else</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:next1</span> <span style="color: #a6e22e;">:next2</span> intersect<span style="color: #797979;">]</span><span style="color: #696969;">)</span><span style="color: #B380A8;">}</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb125c9e" class="outline-3">
<h3 id="orgb125c9e">2.3  Concurrency</h3>
<div class="outline-text-3" id="text-orgb125c9e">
<ul class="org-ul">
<li><p>process should not simply be implemented as closure</p><p>since the alphabet of a process is part of it.</p></li>

<li><p>and alphabet might be infinite</p><p>[such as the set of all integer]</p></li></ul>
</div>
</div>

<div id="outline-container-org1ff77e" class="outline-3">
<h3 id="org1ff77e">2.4  Pictures</h3>
</div>

<div id="outline-container-org5776e40" class="outline-3">
<h3 id="org5776e40">2.5  Example: The Dining Philosophers</h3>
</div>

<div id="outline-container-org417354d" class="outline-3">
<h3 id="org417354d">2.6  Change of symbol</h3>
</div>

<div id="outline-container-orgcc59113" class="outline-3">
<h3 id="orgcc59113">2.7  Specifications</h3>
</div>

<div id="outline-container-org492418e" class="outline-3">
<h3 id="org492418e">2.8  Mathematical theory of deterministic processes</h3>
</div>
</div>

<div id="outline-container-org4662e77" class="outline-2">
<h2 id="org4662e77">3 Nondeterminism</h2>
<div class="outline-text-2" id="text-org4662e77">
</div><div id="outline-container-orgde8070b" class="outline-3">
<h3 id="orgde8070b">3.1  Introduction</h3>
</div>

<div id="outline-container-orge039985" class="outline-3">
<h3 id="orge039985">3.2  Nondeterministic or</h3>
</div>

<div id="outline-container-org9df7846" class="outline-3">
<h3 id="org9df7846">3.3  General choice</h3>
</div>

<div id="outline-container-org6c470a2" class="outline-3">
<h3 id="org6c470a2">3.4  Refusals</h3>
</div>

<div id="outline-container-org2f0095c" class="outline-3">
<h3 id="org2f0095c">3.5  Concealment</h3>
</div>

<div id="outline-container-orgc109ec2" class="outline-3">
<h3 id="orgc109ec2">3.6  Interleaving</h3>
</div>

<div id="outline-container-orgf8efd2b" class="outline-3">
<h3 id="orgf8efd2b">3.7  Specifications</h3>
</div>

<div id="outline-container-orgad43261" class="outline-3">
<h3 id="orgad43261">3.8  Divergence</h3>
</div>

<div id="outline-container-org7aa652a" class="outline-3">
<h3 id="org7aa652a">3.9  Mathematical theory of non-deterministic processes</h3>
</div>
</div>

<div id="outline-container-org706c2e6" class="outline-2">
<h2 id="org706c2e6">4 Communication</h2>
<div class="outline-text-2" id="text-org706c2e6">
</div><div id="outline-container-org5a57763" class="outline-3">
<h3 id="org5a57763"><span class="todo _note_">[note]</span> primitivity prejudice</h3>
<div class="outline-text-3" id="text-org5a57763">
<ul class="org-ul">
<li><p>suppose :</p><p><ol class="org-ol"></p><p><li>model-1 is more primitive then model-2</li></p><p><li>model-2 can be reduced to model-1</li></p><p><li>one can use model-1 to implement model-2</li></p><p><li>it is meaningless to use model-2 to model-1</p><p>because model-2 is already more powerful than model-1</li></ol></p></li>

<li><p><p></p><p>when ever such reduction as (2) can be done,</p><p>a theoretical author might choose to</p><p>use the more primitive model in his study,</p><p></p></p><p></p><p><p></p><p>regardless the fact that although (3) is possible,</p><p>but in practice, such implementation might be :</p><p></p></p><p><ol class="org-ol"></p><p><li>more complicate than direct implementation</li></p><p><li>has bad performance</li></ol></p></li>

<li><p>this kind of bad design decisions</p><p>is called <b>primitivity prejudice</b>,</p><p>which very often occurs in developments</p><p>of mathematical theories.</p></li></ul>
</div>
</div>

<div id="outline-container-org8a1198a" class="outline-3">
<h3 id="org8a1198a"><span class="todo _note_">[note]</span> new syntax</h3>
<div class="outline-text-3" id="text-org8a1198a">
<ul class="org-ul">
<li><p>from this chapter,</p><p>the syntax need to be re-designed.</p></li>

<li><p>all channel must be assigned with a type-list.</p><p>#ch for input</p><p>#ch! for output</p></li>

<li><p>input and output of a channel are the same</p><p>if its type-list is empty.</p></li></ul>

<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+ch</span> <span style="color: #ae81ff;">#in</span> Int<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+ch</span> <span style="color: #ae81ff;">#out</span> Int<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">SQUARE</span>
  <span style="color: #ae81ff;">#in</span> dup mul <span style="color: #fd971f;">#out!</span> <span style="color: #66d9ef; font-weight: bold;">SQUARE</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>

<div id="outline-container-orgbeb979f" class="outline-4">
<h4 id="orgbeb979f">prefix, recursion and choice</h4>
<div class="outline-text-4" id="text-orgbeb979f">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+ch</span> #coin<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+ch</span> #choc<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMS</span> <span style="color: #ae81ff;">#coin</span> <span style="color: #ae81ff;">#choc</span> VMS<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CH5C</span>
    <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> in5p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> out1p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out1p out1p out2p <span style="color: #66d9ef; font-weight: bold;">CH5C</span><span style="color: #696969;">)</span>
               out2p <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out1p out2p CH5C<span style="color: #696969;">)))))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CH5C</span>
  <span style="color: #ae81ff;">#in5p</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> <span style="color: #ae81ff;">#out1p</span> <span style="color: #797979;">[</span><span style="color: #ae81ff;">#out1p</span> <span style="color: #ae81ff;">#out1p</span> <span style="color: #ae81ff;">#out2p</span> <span style="color: #66d9ef; font-weight: bold;">CH5C</span><span style="color: #797979;">]</span>
           <span style="color: #ae81ff;">#out2p</span> <span style="color: #797979;">[</span><span style="color: #ae81ff;">#out1p</span> <span style="color: #ae81ff;">#out2p</span> CH5C<span style="color: #797979;">]</span><span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">VMCT</span>
  <span style="color: #ae81ff;">#coin</span> <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> <span style="color: #ae81ff;">#choc</span> <span style="color: #66d9ef; font-weight: bold;">VMCT</span>
           <span style="color: #ae81ff;">#toffee</span> VMCT<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">COPYBIT</span>
    <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> in.0 <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out.0 <span style="color: #66d9ef; font-weight: bold;">COPYBIT</span><span style="color: #696969;">)</span>
       in.1 <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">-</span> out.1 COPYBIT<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">COPYBIT</span>
  <span style="color: #ae81ff;">#in</span>  <span style="color: #fd971f;">#out!</span> COPYBIT<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">note</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CT</span> <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:n</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">cond</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> <span style="color: #ae81ff;">0</span> eq?<span style="color: #797979;">]</span>
          <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> up <span style="color: #797979;">[</span><span style="color: #ae81ff;">1</span> <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span>
             around <span style="color: #797979;">[</span><span style="color: #ae81ff;">0</span> <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span><span style="color: #696969;">)</span>
          <span style="color: #66d9ef; font-weight: bold;">else</span>
          <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> up <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> inc <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span>
             down <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> dec CT<span style="color: #797979;">]</span><span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">CT</span> <span style="color: #696969;">(</span><span style="color: #66d9ef; font-weight: bold;">-&gt;</span> <span style="color: #a6e22e;">:n</span> <span style="color: #66d9ef; font-weight: bold;">--</span> <span style="color: #66d9ef; font-weight: bold;">Process</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">cond</span> <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> <span style="color: #ae81ff;">0</span> eq?<span style="color: #797979;">]</span>
        <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> up <span style="color: #797979;">[</span><span style="color: #ae81ff;">1</span> <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span>
           around <span style="color: #797979;">[</span><span style="color: #ae81ff;">0</span> <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span><span style="color: #696969;">)</span>
        <span style="color: #66d9ef; font-weight: bold;">else</span>
        <span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">|</span> up <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> inc <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span>
           down <span style="color: #797979;">[</span><span style="color: #a6e22e;">:n</span> dec <span style="color: #66d9ef; font-weight: bold;">CT</span><span style="color: #797979;">]</span><span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5308600" class="outline-3">
<h3 id="org5308600">4.1  Introduction</h3>
</div>

<div id="outline-container-org386fa4d" class="outline-3">
<h3 id="org386fa4d">4.2  Input and output</h3>
<div class="outline-text-3" id="text-org386fa4d">
<div class="org-src-container">

<pre class="src src-jojo"><span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+ch</span> <span style="color: #ae81ff;">#in</span> Int<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+ch</span> <span style="color: #ae81ff;">#out</span> Int<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #f92672; font-weight: bold;">+jojo</span> <span style="color: #66d9ef; font-weight: bold;">SQUARE</span>
  <span style="color: #ae81ff;">#in</span> dup mul <span style="color: #fd971f;">#out!</span> <span style="color: #66d9ef; font-weight: bold;">SQUARE</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5825a9a" class="outline-3">
<h3 id="org5825a9a">4.3  Communications</h3>
</div>

<div id="outline-container-orgc30646b" class="outline-3">
<h3 id="orgc30646b">4.4  Pipes</h3>
</div>

<div id="outline-container-org301f3b2" class="outline-3">
<h3 id="org301f3b2">4.5  Subordination</h3>
</div>
</div>

<div id="outline-container-org9105ad" class="outline-2">
<h2 id="org9105ad">5 Sequential Processes</h2>
<div class="outline-text-2" id="text-org9105ad">
</div><div id="outline-container-org2946db1" class="outline-3">
<h3 id="org2946db1">5.1  Introduction</h3>
</div>

<div id="outline-container-org6890c70" class="outline-3">
<h3 id="org6890c70">5.2  Laws</h3>
</div>

<div id="outline-container-org29f5cf" class="outline-3">
<h3 id="org29f5cf">5.3  Mathematical treatment</h3>
</div>

<div id="outline-container-org3439915" class="outline-3">
<h3 id="org3439915">5.4  Interrupts</h3>
</div>

<div id="outline-container-org6a42248" class="outline-3">
<h3 id="org6a42248">5.5  Assignment</h3>
</div>
</div>

<div id="outline-container-org7bd73e1" class="outline-2">
<h2 id="org7bd73e1">6 Shared Resources</h2>
<div class="outline-text-2" id="text-org7bd73e1">
</div><div id="outline-container-orgf3169a9" class="outline-3">
<h3 id="orgf3169a9">6.1  Introduction</h3>
</div>

<div id="outline-container-org3c447c3" class="outline-3">
<h3 id="org3c447c3">6.2  Sharing by interleaving</h3>
</div>

<div id="outline-container-orgab90fa1" class="outline-3">
<h3 id="orgab90fa1">6.3  Shared storage</h3>
</div>

<div id="outline-container-orgcb01f4f" class="outline-3">
<h3 id="orgcb01f4f">6.4  Multiple resources</h3>
</div>

<div id="outline-container-orgfa292c" class="outline-3">
<h3 id="orgfa292c">6.5  Operating systems</h3>
</div>

<div id="outline-container-orgd1a943c" class="outline-3">
<h3 id="orgd1a943c">6.6  Scheduling</h3>
</div>
</div>

<div id="outline-container-orgba7701c" class="outline-2">
<h2 id="orgba7701c">7 Discussion</h2>
<div class="outline-text-2" id="text-orgba7701c">
</div><div id="outline-container-orge5b2765" class="outline-3">
<h3 id="orge5b2765">7.1  Introduction</h3>
</div>

<div id="outline-container-org1b60122" class="outline-3">
<h3 id="org1b60122">7.2  Shared storage</h3>
</div>

<div id="outline-container-orgee254ad" class="outline-3">
<h3 id="orgee254ad">7.3  Communication</h3>
</div>

<div id="outline-container-org9c0de73" class="outline-3">
<h3 id="org9c0de73">7.4  Mathematical models</h3>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: xieyuheng</p>
<p class="date">Created: 2017-10-19 Thu 16:52</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
